---
import { homeAPI } from "../api/home"

const runtime = Astro.locals.runtime;
const data = await homeAPI( runtime.env.ENVIRONMENT )
const { home_data, services, work, advantages, testimonials, meta_tags } = data

// IMPORT ASTRO LAYOUTS
import Layout from "../layouts/Layout.astro"
import Container from "../layouts/Container.astro"

// IMPORT ASTRO COMPONENTS
import Footer from "../components/common/footer/Footer.astro"
import Header from "../components/common/header/Header.jsx"
import HeaderBanner from "../components/common/HeaderBanner.astro"

import AcceleratingLeaders from "../components/home/case-studies/AcceleratingLeaders.astro"
import Advantage from "../components/home/advantage/Advantage"
import Clients from "../components/home/clients/Clients"
import Hero from "../components/home/Hero.astro"
import MoreServices from "../components/home/MoreServices.astro"
import OurProcess from "../components/home/OurProcess.astro"
import Services from "../components/home/services/Services.astro"
import ViewWork from "../components/home/ViewWork.astro"
import Work from "../components/home/Work"

// IMPORT CONSTANTS
import { CDN_LINK } from "../constants/cdn"
---
<Layout
	title={ meta_tags.title }
	description={ meta_tags.description }
	image={ CDN_LINK + meta_tags.cover }
>
	<HeaderBanner />
	<Header client:load />
	<Container>
		<Hero data={ home_data.hero } />
	</Container>
	<Work
		client:load
		carousel_one={ home_data.work_carousel_one }
		carousel_two={ home_data.work_carousel_two }
		carousel_three={ home_data.work_carousel_three }
	/>
	<Container>
		<Services
			data={ services }
			services={ home_data.service }
		/>
		<MoreServices data={ home_data.more_services } />
		<AcceleratingLeaders data={ work } />
		<ViewWork data={ home_data.our_work } />
		<Advantage
			client:load
			data={ advantages }
			advantage={ home_data.advantage }
		/>
		<OurProcess data={ home_data.our_process } />
		<Clients
			client:load
			clients ={ home_data.clients }
			data ={ testimonials }
		/>
	</Container>
	<Footer />
</Layout>
